
### **一、Java核心基础（考察底层原理与实战经验）**
1. **JVM调优**  
   - 如何排查频繁Full GC？解释CMS和G1的适用场景。  
   - 线上服务出现`OutOfMemoryError: Metaspace`，可能原因是什么？如何定位？  
   - **追问**：是否用过阿里开源的Arthas？举例解决过的实际问题。

2. **并发编程**  
   - 如何实现一个高性能的本地缓存（线程安全+过期策略）？  
   - `ConcurrentHashMap`在JDK1.7和1.8中的实现差异？为什么1.8放弃分段锁？  
   - **场景题**：用`CompletableFuture`优化三个异步RPC调用的聚合逻辑。

3. **Java 8+特性**  
   - `Stream`的并行流原理？什么情况下使用可能引发问题？  
   - 方法引用和Lambda在JVM层面的实现区别？

---

### **二、分布式系统设计（突出高并发、高可用经验）**
1. **秒杀系统设计**  
   - 如何解决超卖问题？如何设计限流和降级策略？  
   - **追问**：如果使用阿里云Redis集群，如何保证热点Key不过载？

2. **分布式事务**  
   - 对比Seata的AT模式与TCC模式，适用哪些业务场景？  
   - 如何设计一个最终一致性的跨服务订单支付系统？

3. **服务治理**  
   - 如何用Sentinel实现熔断和自适应流量控制？  
   - **场景题**：Nacos配置中心突然宕机，如何保证微服务正常运行？

---

### **三、中间件与数据库（结合阿里技术栈）**
1. **RocketMQ**  
   - 消息重复消费的根本原因？如何保证业务幂等性？  
   - 如何设计一个延迟消息实现订单未支付自动关闭？

2. **分库分表**  
   - 订单表按用户ID分库，如何高效查询“某商家的所有订单”？  
   - 是否了解阿里云的DRDS？它的路由策略与自研方案差异？

3. **Redis深度**  
   - 大Key和热Key的解决方案？是否使用过阿里云的Tair？  
   - Redis集群脑裂问题如何规避？Raft协议与Redis Cluster的区别？

---

### **四、架构设计思维（业务抽象与权衡能力）**
1. **设计模式实战**  
   - 如何用策略模式+工厂模式替换订单系统中复杂的`if-else`逻辑？  
   - 举例说明你在项目中如何应用DDD解决领域模型混乱的问题。

2. **系统重构经验**  
   - 描述一个将单体系统拆分为微服务的案例，遇到的最大挑战是什么？  
   - **追问**：如何保证拆分过程中数据一致性和服务可用性？

3. **容灾与高可用**  
   - 如何设计异地多活架构？CAP中如何权衡一致性与可用性？  
   - 全链路压测如何实施？如何模拟阿里双十一的洪峰流量？

---

### **五、编码能力（动手能力验证）**
1. **手写代码**  
   - 实现一个线程安全的LRU缓存，支持设置过期时间。  
   - 用`ReentrantLock`和`Condition`实现阻塞队列。

2. **算法题**  
   - 二叉树层序遍历（考察基础编码规范）  
   - 接雨水问题（优化至O(n)时间复杂度）

---

### **六、项目深挖（STAR法则深度追问）**
- **挑战性项目**：选择一个你主导的高并发项目，详细说明：  
  - 架构设计的关键决策点（如为什么选择Kafka而非RocketMQ）  
  - 遇到的最大技术难点及解决方案（如分布式锁性能瓶颈）  
  - 如果重做一次，会在哪些方面改进？

---

### **考察重点总结**
1. **深度而非广度**：对核心技术的底层理解（如JVM、并发源码）。  
2. **实战导向**：设计能力需结合真实场景，避免纯理论回答。  
3. **技术前瞻性**：对云原生、Serverless等趋势的见解。  
4. **文化匹配**：是否具备“拥抱变化”的心态和复杂问题拆解能力。

---