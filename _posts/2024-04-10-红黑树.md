---
layout: post
category: ds
---

# AVL树 平衡二叉树

AVL树的查找、插入和删除在平均和最坏情况下都是**O(logn)**

# 什么是红黑树

红黑树是一种近似平衡的二叉查找树，其主要的优点就是“平衡“，即左右子树高度几乎一致，以此来防止树退化为链表，通过这种方式来保障查找的时间复杂度为 log(n)

# 为什么使用？

存储有序的数据，**它增删改查的时间复杂度都是O(logn)** 。

# 有哪些使用红黑树的场景


## 红黑树的特征

* 1、每个节点要么是红色，要么是黑色，但根节点永远是黑色的；
* 2、每个红色节点的两个子节点一定都是黑色；
* 3、红色节点不能连续（也即是，红色节点的孩子和父亲都不能是红色）；
* 4、从任一节点到其子树中每个叶子节点的路径都包含相同数量的黑色节点；
* 5、所有的叶节点都是是黑色的（注意这里说叶子节点其实是上图中的 NIL 节点）

## 红黑树有什么缺点 如何优化

优点：

1. 插入和删除操作的效率高于AVL树。红黑树通过非严格的平衡来换取增删节点时旋转次数的降低，任何不平衡都会在三次旋转之内解决，而AVL树是严格平衡树，因此在增加或删除节点时，旋转的次数比红黑树要多。
2. 对于删除节点导致失衡后的复衡操作，红黑树能够提供一个相对较便宜的解决方案，降低开销。相比之下，AVL树需要维护从被删除节点到根节点路径上所有节点的平衡，旋转的量级为O(logN)，而红黑树最多只需要旋转3次实现复衡，只需O(1)的开销。

缺点：

1. 查找操作的效率略低于AVL树。由于红黑树不要求完全平衡，查询性能可能略逊于AVL树。最多只有一层的不平衡，也就是说，红黑树的查询性能最多多一次比较，相对于相同内容的AVL树。
2. 红黑树的平衡性相对于AVL树来说较差。红黑树只要求部分达到平衡，不像AVL树那样要求节点的平衡因子的绝对值小于等于1。这也是为了在插入和删除节点时降低旋转的次数和开销，而AVL树是严格平衡的。

综合来说，红黑树在功能、性能和空间开销之间进行了折中。它具有较高的统计性能，适用于需要稳定表现的场景，尤其在插入和删除操作频繁的情况下，红黑树的效率更高。相比之下，AVL树更加平衡，读取时的效率更高，但在维护和空间开销方面稍慢一些。