---
layout: post
category: mq
---
# kafka的重平衡机制
重平衡规定了如何让消费者组下的所有消费者来分配topic中的每一个分区。

重平衡的触发条件：
1. 消费者组内成员发生变更（消费者减少/增加）
2. 主题的分区发生变更（分区新增）
3. 订阅的主题发生变化

为什么要关注rebalance？
> 重平衡的过程中，消费者无法从kafka中消费消息，影响TPS
>
> 如果kafka集群内节点较多，耗时可能会很长，此时kafka将不可用

重平衡的通知机制是使用